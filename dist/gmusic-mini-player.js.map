{"version":3,"sources":["gmusic-mini-player.js"],"names":[],"mappings":"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","file":"gmusic-mini-player.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = {\n  CLASS_NAMESPACE: 'gmusic-mini-player',\n};\n\n},{}],2:[function(require,module,exports){\n\n\n// DEV: These constants will be transformed into string constants by browserify\nconst BASE_CSS = \".gmusic-mini-player #material-player-left-wrapper .now-playing-actions,.gmusic-mini-player body[controls] #mini-info,.gmusic-mini-player body[ready]:hover #mini-info{opacity:1!important}#embed-container,.gmusic-mini-player #mainContainer,.gmusic-mini-player #mini-info{overflow:hidden!important}.gmusic-mini-player,.gmusic-mini-player body{height:300px!important;width:300px!important}.gmusic-mini-player #player{min-width:280px!important;z-index:9999999!important;height:65px!important;min-height:65px!important;transition:bottom .3s!important;bottom:-100px!important;transition-timing-function:ease-in-out!important;width:280px!important;left:10px!important;right:10px!important;border-bottom-left-radius:8px!important;border-bottom-right-radius:8px!important}.gmusic-mini-player body[controls] #player,.gmusic-mini-player body[ready]:hover #player{bottom:10px!important}.gmusic-mini-player #material-player-left-wrapper .now-playing-info-content,.gmusic-mini-player #material-player-left-wrapper .player-left .image-wrapper,.gmusic-mini-player #material-player-left-wrapper [data-id=now-playing-menu],.gmusic-mini-player #material-player-right-wrapper{display:none!important}.gmusic-mini-player #material-player-left-wrapper{flex:none!important;width:0!important}.gmusic-mini-player #player #material-player-left-wrapper .rating-container paper-icon-button{background:0 0!important;position:absolute!important;top:8px!important}.gmusic-mini-player #player #material-player-left-wrapper .rating-container paper-icon-button:nth-child(1){left:20px!important;display:none!important}.gmusic-mini-player #player #material-player-left-wrapper .rating-container paper-icon-button:nth-child(2){left:210px!important;display:none!important}.gmusic-mini-player #player[radio] #material-player-left-wrapper .rating-container paper-icon-button:nth-child(1),.gmusic-mini-player #player[radio] #material-player-left-wrapper .rating-container paper-icon-button:nth-child(2){display:block!important}.gmusic-mini-player #material-player-left-wrapper .rating-container{width:0!important}.gmusic-mini-player #mini-album{position:fixed!important;top:0!important;left:0!important;display:block!important;width:100%!important;height:100%!important;z-index:9999998!important}.gmusic-mini-player .player-progress-wrapper{left:0!important}.gmusic-mini-player .material-player-middle{margin:0 auto!important}.gmusic-mini-player #player.material .material-player-middle paper-icon-button[data-id=play-pause] iron-icon,.gmusic-mini-player #player.material .material-player-middle sj-icon-button[data-id=play-pause] core-icon{height:50px!important;width:50px!important;top:-2px!important}.gmusic-mini-player paper-icon-button[data-id=play-pause]{text-align:center!important}.gmusic-mini-player [data-id=play-pause]::shadow paper-ripple.circle{height:50px!important;width:50px!important;margin-left:6px!important;margin-top:-2px!important}.gmusic-mini-player [data-id=forward],.gmusic-mini-player [data-id=repeat],.gmusic-mini-player [data-id=rewind],.gmusic-mini-player [data-id=shuffle]{top:-8px!important}.gmusic-mini-player .mini-timespan-c,.gmusic-mini-player .mini-timespan-t{position:absolute!important;top:8px!important;font-size:11px!important;display:block!important}.gmusic-mini-player [data-id=repeat]{left:28px!important}.gmusic-mini-player [data-id=rewind]{left:16px!important}.gmusic-mini-player [data-id=forward]{left:-16px!important}.gmusic-mini-player [data-id=shuffle]{left:-28px!important}.gmusic-mini-player .mini-timespan-c{left:6px!important}.gmusic-mini-player .mini-timespan-t{right:6px!important}.gmusic-mini-player ::shadow #mainContainer{overflow:hidden!important}.gmusic-mini-player #mini-info{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:90px!important;background:-webkit-linear-gradient(top,rgba(45,45,45,.85) 0,rgba(9,9,9,.41) 79%,rgba(0,0,0,0) 100%)!important;display:block!important;z-index:9999999!important;transition:opacity .3s!important;transition-timing-function:ease-in-out!important;opacity:0!important}.gmusic-mini-player #mini-info span{color:#EEE!important;display:block!important;font-size:20px!important;padding:4px 12px!important;cursor:default!important}.gmusic-mini-player #mini-info span:last-child{font-size:16px!important;height:18px!important;overflow:hidden!important}[data-id=show-miniplayer-dp]{color:#9e9e9e!important;position:absolute!important;top:auto!important;bottom:-4px!important;right:-4px!important;margin:0!important}#player paper-icon-button[data-id=show-miniplayer-dp] iron-icon{width:16px!important;height:16px!important}#embed-container{width:0!important}\";\nconst CONSTANTS = require('../lib/_constants');\n\nconst GMusicMiniPlayerController = class GMusicMiniPlayerController {\n  _initCSS() {\n    const styleElement = document.createElement('style');\n    styleElement.innerHTML = BASE_CSS;\n    document.body.appendChild(styleElement);\n  }\n\n  _initMiniPlayerUI() {\n    this.miniNowPlayerInfo = document.createElement('div');\n    this.miniAlbumArt = document.createElement('img');\n\n    // DEV: Configure mini player elements\n    this.miniNowPlayerInfo.id = 'mini-info';\n    this.miniNowPlayerInfo.setAttribute('style', 'display: none');\n    this.miniNowPlayerInfo.innerHTML = '<span></span><span></span>';\n\n    this.miniAlbumArt.id = 'mini-album';\n    // DEV: Placeholder image\n    this.miniAlbumArt.src = 'https://www.samuelattard.com/img/gpm_placeholder.jpg';\n    this.miniAlbumArt.setAttribute('style', 'display: none');\n    // DEV: If the album art load ever fails, use the placeholder\n    this.miniAlbumArt.addEventListener('error', (e) => {\n      e.target.src = 'https://www.samuelattard.com/img/gpm_placeholder.jpg';\n    });\n    // DEV: Prevent dragging of the album image\n    this.miniAlbumArt.addEventListener('mousedown', (e) => {\n      e.preventDefault();\n    });\n\n    document.body.appendChild(this.miniNowPlayerInfo);\n    document.body.appendChild(this.miniAlbumArt);\n  }\n\n  _initMiniPlayerTimingUI() {\n    const player = document.getElementById('player');\n    const container = document.createElement('div');\n    this.timeSpan_SoFar = document.createElement('span');\n    this.timeSpan_Total = document.createElement('span');\n\n    this.timeSpan_SoFar.classList.add('mini-timespan-c');\n    this.timeSpan_SoFar.setAttribute('style', 'display: none');\n    this.timeSpan_SoFar.innerHTML = '0:00';\n    player.appendChild(this.timeSpan_SoFar);\n\n    this.timeSpan_Total.classList.add('mini-timespan-t');\n    this.timeSpan_Total.setAttribute('style', 'display: none');\n    this.timeSpan_Total.innerHTML = '0:00';\n    player.appendChild(this.timeSpan_Total);\n\n    container.innerHTML = '<paper-icon-button data-id=\"show-miniplayer-dp\" icon=\"open-in-new\" title=\"Show mini player\" aria-label=\"Show mini player\" role=\"button\" tabindex=\"0\" no-focus=\"\"></paper-icon-button>';\n    this.miniButtonElement = container.querySelectorAll('[data-id=\"show-miniplayer-dp\"]')[0];\n    this.miniButtonElement.addEventListener('click', (e) => {\n      this.getControls().toggle();\n      e.target.blur();\n      this.miniButtonElement.style.display = 'none';\n      document.body.removeAttribute('ready');\n      setTimeout(() => {\n        this.miniButtonElement.style.display = 'block';\n      }, 400);\n      e.preventDefault();\n      return false;\n    });\n    document.getElementById('player').appendChild(container);\n  }\n\n  _initMiniPlayerTimingMonitor() {\n    this.GPM_API.on('change:playback-time', (e) => {\n      this.timeSpan_SoFar.innerHTML = (e.current ? this._timeFormat(e.current) : '0:00');\n      this.timeSpan_Total.innerHTML = (e.total ? this._timeFormat(e.total) : '0:00');\n    });\n  }\n\n  _initMiniPlayerRadioMonitor() {\n    this.GPM_API.on('change:playback', () => {\n      const repeatElement = document.querySelectorAll(this.SELECTORS.repeat.buttonSelector);\n      const player = document.querySelector('#player');\n      if (repeatElement && repeatElement[0] && player) {\n        if (repeatElement[0].style.display === 'none') {\n          if (player.getAttribute('radio') === null) {\n            player.setAttribute('radio', 'on');\n          }\n        } else if (player.getAttribute('radio') !== null) {\n          player.removeAttribute('radio');\n        }\n      }\n    });\n  }\n\n  _initMiniPlayerNowPlayingMonitor() {\n    this.GPM_API.on('change:song', (e) => {\n      this.miniAlbumArt.src = e.art.replace('=s90', '=s300');\n      const infoSpans = this.miniNowPlayerInfo.getElementsByTagName('span');\n      infoSpans[0].innerHTML = e.title;\n      infoSpans[1].innerHTML = e.artist + ' - ' + e.album;\n    });\n  }\n\n  _initGlobalEventHandlers() {\n    // DEV: Scroll to change volume in mini player mode\n    window.addEventListener('mousewheel', (e) => {\n      if (this.miniState) {\n        if (e.wheelDelta < 0) {\n          this.GPM_API.volume.decreaseVolume();\n        } else {\n          this.GPM_API.volume.increaseVolume();\n        }\n      }\n    });\n\n    // DEV: Handle abstract resizing of the window\n    document.body.addEventListener('mousemove', () => {\n      if (this.miniState && this.miniButtonElement.style.display !== 'none') {\n        document.body.setAttribute('ready', 'ready');\n      }\n    });\n\n    // DEV: When in mini player mode implementees might want to drag the window\n    document.addEventListener('mousedown', (e) => {\n      if (this.miniState && e.clientY <= 210) {\n        this._fire('dragstart');\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      }\n    });\n  }\n\n  constructor() {\n    this.GPM_API = new window.GMusic(window);\n    this.SELECTORS = window.GMusic.SELECTORS;\n\n    this._initCSS();\n    this._initMiniPlayerUI();\n    this._initMiniPlayerNowPlayingMonitor();\n    this._initMiniPlayerTimingUI();\n    this._initMiniPlayerTimingMonitor();\n    this._initMiniPlayerRadioMonitor();\n\n    this.miniState = false;\n    this.events = {};\n\n    this._initGlobalEventHandlers();\n  }\n\n  _timeFormat(milli) {\n    const totalSeconds = Math.floor(milli / 1000);\n    const minutes = Math.floor(totalSeconds / 60);\n    const seconds = totalSeconds % 60;\n    return minutes + ':' + (seconds < 10 ? '0' + seconds : seconds);\n  }\n\n  _hook(what, fn) {\n    this.events[what] = this.events[what] || [];\n    this.events[what].push(fn);\n  }\n\n  _fire(what, e) {\n    this.events[what] = this.events[what] || [];\n    this.events[what].forEach((fn) => {\n      fn(e);\n    });\n  }\n\n  getControls() {\n    return {\n      enable: () => {\n        this._enable();\n      },\n      disable: () => {\n        this._disable();\n      },\n      toggle: () => {\n        if (this.miniState) {\n          this._disable();\n        } else {\n          this._enable();\n        }\n      },\n      enableButton: () => {\n        this._enableButton();\n      },\n      disableButton: () => {\n        this._disableButton();\n      },\n      showControlsWhen: (when) => {\n        this._showControlsWhen(when);\n      },\n      on: (what, fn) => {\n        this._hook(what, fn);\n      },\n    };\n  }\n\n  _enable() {\n    let delay = 0;\n    this.miniState = true;\n    // close menu\n    const closeBtn = document.getElementById('left-nav-close-button');\n    if (closeBtn !== null) {\n      closeBtn.click();\n    }\n    // DEV: Allow a syncronous callback to handle the enable event and delay by X milliseconds\n    this._fire('enable', (newDelay) => {\n      delay = newDelay;\n    });\n    setTimeout(() => {\n      document.querySelector('html').classList.add(CONSTANTS.CLASS_NAMESPACE);\n    }, delay);\n  }\n\n  _disable() {\n    let delay = 0;\n    this.miniState = false;\n    // DEV: Allow a syncronous callback to handle the disable event and delay by X milliseconds\n    this._fire('disable', (newDelay) => {\n      delay = newDelay;\n    });\n    setTimeout(() => {\n      document.querySelector('html').classList.remove(CONSTANTS.CLASS_NAMESPACE);\n    }, delay);\n  }\n\n  _enableButton() {\n    this.miniButtonElement.style.display = 'block';\n  }\n\n  _disableButton() {\n    this.miniButtonElement.style.display = 'none';\n  }\n\n  _showControlsWhen(when) {\n    if (when === 'hover') {\n      document.body.removeAttribute('controls');\n    } else {\n      document.body.setAttribute('controls', 'controls');\n    }\n  }\n};\n\nif (!window.GMusic) {\n  console.error('The core GMusic library must be included for the GMusic mini player library to work'); // eslint-disable-line\n} else {\n  const controller = new GMusicMiniPlayerController();\n  // DEV: Hook into the existing GMusic libraries global prototype\n  window.GMusic._protoObj.mini = controller.getControls();\n}\n\n},{\"../lib/_constants\":1}]},{},[2]);\n"]}