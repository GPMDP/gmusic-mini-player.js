{"version":3,"sources":["gmusic-mini-player.js"],"names":[],"mappings":"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","file":"gmusic-mini-player.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = {\r\n  CLASS_NAMESPACE: 'gmusic-mini-player',\r\n};\r\n\n},{}],2:[function(require,module,exports){\n\r\n\r\n// DEV: These constants will be transformed into string constants by browserify\r\nconst BASE_CSS = \".gmusic-mini-player #material-player-left-wrapper .now-playing-actions,.gmusic-mini-player body[controls] #mini-info,.gmusic-mini-player body[ready]:hover #mini-info{opacity:1!important}.gmusic-mini-player,.gmusic-mini-player body{height:300px!important;width:300px!important}.gmusic-mini-player #player{min-width:280px!important;z-index:9999999!important;height:65px!important;min-height:65px!important;transition:bottom .3s!important;bottom:-100px!important;transition-timing-function:ease-in-out!important;width:280px!important;left:10px!important;right:10px!important;border-bottom-left-radius:8px!important;border-bottom-right-radius:8px!important}.gmusic-mini-player body[controls] #player,.gmusic-mini-player body[ready]:hover #player{bottom:10px!important}.gmusic-mini-player #material-player-left-wrapper .now-playing-info-content,.gmusic-mini-player #material-player-left-wrapper .player-left .image-wrapper,.gmusic-mini-player #material-player-left-wrapper [data-id=now-playing-menu],.gmusic-mini-player #material-player-right-wrapper{display:none!important}.gmusic-mini-player #material-player-left-wrapper{flex:none!important;width:0!important}.gmusic-mini-player #player #material-player-left-wrapper .rating-container paper-icon-button{background:0 0!important;position:absolute!important;top:8px!important}.gmusic-mini-player #player #material-player-left-wrapper .rating-container paper-icon-button:nth-child(1){left:20px!important;display:none!important}.gmusic-mini-player #player #material-player-left-wrapper .rating-container paper-icon-button:nth-child(2){left:210px!important;display:none!important}.gmusic-mini-player #player[radio] #material-player-left-wrapper .rating-container paper-icon-button:nth-child(1),.gmusic-mini-player #player[radio] #material-player-left-wrapper .rating-container paper-icon-button:nth-child(2){display:block!important}.gmusic-mini-player #material-player-left-wrapper .rating-container{width:0!important}.gmusic-mini-player #mini-album{position:fixed!important;top:0!important;left:0!important;display:block!important;width:100%!important;height:100%!important;z-index:9999998!important}.gmusic-mini-player .player-progress-wrapper{left:0!important}.gmusic-mini-player .material-player-middle{margin:0 auto!important}.gmusic-mini-player #player.material .material-player-middle paper-icon-button[data-id=play-pause] iron-icon,.gmusic-mini-player #player.material .material-player-middle sj-icon-button[data-id=play-pause] core-icon{height:50px!important;width:50px!important;top:-2px!important}.gmusic-mini-player paper-icon-button[data-id=play-pause]{text-align:center!important}.gmusic-mini-player [data-id=play-pause]::shadow paper-ripple.circle{height:50px!important;width:50px!important;margin-left:6px!important;margin-top:-2px!important}.gmusic-mini-player [data-id=forward],.gmusic-mini-player [data-id=repeat],.gmusic-mini-player [data-id=rewind],.gmusic-mini-player [data-id=shuffle]{top:-8px!important}.gmusic-mini-player .mini-timespan-c,.gmusic-mini-player .mini-timespan-t{position:absolute!important;top:8px!important;font-size:11px!important;display:block!important}.gmusic-mini-player [data-id=repeat]{left:28px!important}.gmusic-mini-player [data-id=rewind]{left:16px!important}.gmusic-mini-player [data-id=forward]{left:-16px!important}.gmusic-mini-player [data-id=shuffle]{left:-28px!important}.gmusic-mini-player .mini-timespan-c{left:6px!important}.gmusic-mini-player .mini-timespan-t{right:6px!important}.gmusic-mini-player ::shadow #mainContainer{overflow:hidden!important}.gmusic-mini-player #mini-info{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:90px!important;overflow:hidden!important;background:-webkit-linear-gradient(top,rgba(45,45,45,.85) 0,rgba(9,9,9,.41) 79%,rgba(0,0,0,0) 100%)!important;display:block!important;z-index:9999999!important;transition:opacity .3s!important;transition-timing-function:ease-in-out!important;opacity:0!important}.gmusic-mini-player #mini-info span{color:#EEE!important;display:block!important;font-size:20px!important;padding:4px 12px!important;cursor:default!important}.gmusic-mini-player #mini-info span:last-child{font-size:16px!important;height:18px!important;overflow:hidden!important}[data-id=show-miniplayer-dp]{color:#9e9e9e!important;position:absolute!important;top:auto!important;bottom:-4px!important;right:-4px!important;margin:0!important}#player paper-icon-button[data-id=show-miniplayer-dp] iron-icon{width:16px!important;height:16px!important}#embed-container{width:0!important;overflow:hidden!important}\";\r\nconst CONSTANTS = require('../lib/_constants');\r\n\r\nconst GMusicMiniPlayerController = class GMusicMiniPlayerController {\r\n  _initCSS() {\r\n    const styleElement = document.createElement('style');\r\n    styleElement.innerHTML = BASE_CSS;\r\n    document.body.appendChild(styleElement);\r\n  }\r\n\r\n  _initMiniPlayerUI() {\r\n    this.miniNowPlayerInfo = document.createElement('div');\r\n    this.miniAlbumArt = document.createElement('img');\r\n\r\n    // DEV: Configure mini player elements\r\n    this.miniNowPlayerInfo.id = 'mini-info';\r\n    this.miniNowPlayerInfo.setAttribute('style', 'display: none');\r\n    this.miniNowPlayerInfo.innerHTML = '<span></span><span></span>';\r\n\r\n    this.miniAlbumArt.id = 'mini-album';\r\n    // DEV: Placeholder image\r\n    this.miniAlbumArt.src = 'https://www.samuelattard.com/img/gpm_placeholder.jpg';\r\n    this.miniAlbumArt.setAttribute('style', 'display: none');\r\n    // DEV: If the album art load ever fails, use the placeholder\r\n    this.miniAlbumArt.addEventListener('error', (e) => {\r\n      e.target.src = 'https://www.samuelattard.com/img/gpm_placeholder.jpg';\r\n    });\r\n    // DEV: Prevent dragging of the album image\r\n    this.miniAlbumArt.addEventListener('mousedown', (e) => {\r\n      e.preventDefault();\r\n    });\r\n\r\n    document.body.appendChild(this.miniNowPlayerInfo);\r\n    document.body.appendChild(this.miniAlbumArt);\r\n  }\r\n\r\n  _initMiniPlayerTimingUI() {\r\n    const player = document.getElementById('player');\r\n    const container = document.createElement('div');\r\n    this.timeSpan_SoFar = document.createElement('span');\r\n    this.timeSpan_Total = document.createElement('span');\r\n\r\n    this.timeSpan_SoFar.classList.add('mini-timespan-c');\r\n    this.timeSpan_SoFar.setAttribute('style', 'display: none');\r\n    this.timeSpan_SoFar.innerHTML = '0:00';\r\n    player.appendChild(this.timeSpan_SoFar);\r\n\r\n    this.timeSpan_Total.classList.add('mini-timespan-t');\r\n    this.timeSpan_Total.setAttribute('style', 'display: none');\r\n    this.timeSpan_Total.innerHTML = '0:00';\r\n    player.appendChild(this.timeSpan_Total);\r\n\r\n    container.innerHTML = '<paper-icon-button data-id=\"show-miniplayer-dp\" icon=\"open-in-new\" title=\"Show mini player\" aria-label=\"Show mini player\" role=\"button\" tabindex=\"0\" no-focus=\"\"></paper-icon-button>';\r\n    this.miniButtonElement = container.querySelectorAll('[data-id=\"show-miniplayer-dp\"]')[0];\r\n    this.miniButtonElement.addEventListener('click', (e) => {\r\n      this.getControls().toggle();\r\n      e.target.blur();\r\n      this.miniButtonElement.style.display = 'none';\r\n      document.body.removeAttribute('ready');\r\n      setTimeout(() => {\r\n        this.miniButtonElement.style.display = 'block';\r\n      }, 400);\r\n      e.preventDefault();\r\n      return false;\r\n    });\r\n    document.getElementById('player').appendChild(container);\r\n  }\r\n\r\n  _initMiniPlayerTimingMonitor() {\r\n    this.GPM_API.on('change:playback-time', (e) => {\r\n      this.timeSpan_SoFar.innerHTML = (e.current ? this._timeFormat(e.current) : '0:00');\r\n      this.timeSpan_Total.innerHTML = (e.total ? this._timeFormat(e.total) : '0:00');\r\n    });\r\n  }\r\n\r\n  _initMiniPlayerRadioMonitor() {\r\n    this.GPM_API.on('change:playback', () => {\r\n      const repeatElement = document.querySelectorAll(this.SELECTORS.repeat.buttonSelector);\r\n      const player = document.querySelector('#player');\r\n      if (repeatElement && repeatElement[0] && player) {\r\n        if (repeatElement[0].style.display === 'none') {\r\n          if (player.getAttribute('radio') === null) {\r\n            player.setAttribute('radio', 'on');\r\n          }\r\n        } else if (player.getAttribute('radio') !== null) {\r\n          player.removeAttribute('radio');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  _initMiniPlayerNowPlayingMonitor() {\r\n    this.GPM_API.on('change:song', (e) => {\r\n      this.miniAlbumArt.src = e.art.replace('=s90', '=s300');\r\n      const infoSpans = this.miniNowPlayerInfo.getElementsByTagName('span');\r\n      infoSpans[0].innerHTML = e.title;\r\n      infoSpans[1].innerHTML = e.artist + ' - ' + e.album;\r\n    });\r\n  }\r\n\r\n  _initGlobalEventHandlers() {\r\n    // DEV: Scroll to change volume in mini player mode\r\n    window.addEventListener('mousewheel', (e) => {\r\n      if (this.miniState) {\r\n        if (e.wheelDelta < 0) {\r\n          this.GPM_API.volume.decreaseVolume();\r\n        } else {\r\n          this.GPM_API.volume.increaseVolume();\r\n        }\r\n      }\r\n    });\r\n\r\n    // DEV: Handle abstract resizing of the window\r\n    document.body.addEventListener('mousemove', () => {\r\n      if (this.miniState && this.miniButtonElement.style.display !== 'none') {\r\n        document.body.setAttribute('ready', 'ready');\r\n      }\r\n    });\r\n\r\n    // DEV: When in mini player mode implementees might want to drag the window\r\n    document.addEventListener('mousedown', (e) => {\r\n      if (this.miniState && e.clientY <= 210) {\r\n        this._fire('dragstart');\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  constructor() {\r\n    this.GPM_API = new window.GMusic(window);\r\n    this.SELECTORS = window.GMusic.SELECTORS;\r\n\r\n    this._initCSS();\r\n    this._initMiniPlayerUI();\r\n    this._initMiniPlayerNowPlayingMonitor();\r\n    this._initMiniPlayerTimingUI();\r\n    this._initMiniPlayerTimingMonitor();\r\n    this._initMiniPlayerRadioMonitor();\r\n\r\n    this.miniState = false;\r\n    this.events = {};\r\n\r\n    this._initGlobalEventHandlers();\r\n  }\r\n\r\n  _timeFormat(milli) {\r\n    const totalSeconds = Math.floor(milli / 1000);\r\n    const minutes = Math.floor(totalSeconds / 60);\r\n    const seconds = totalSeconds % 60;\r\n    return minutes + ':' + (seconds < 10 ? '0' + seconds : seconds);\r\n  }\r\n\r\n  _hook(what, fn) {\r\n    this.events[what] = this.events[what] || [];\r\n    this.events[what].push(fn);\r\n  }\r\n\r\n  _fire(what, e) {\r\n    this.events[what] = this.events[what] || [];\r\n    this.events[what].forEach((fn) => {\r\n      fn(e);\r\n    });\r\n  }\r\n\r\n  getControls() {\r\n    return {\r\n      enable: () => {\r\n        this._enable();\r\n      },\r\n      disable: () => {\r\n        this._disable();\r\n      },\r\n      toggle: () => {\r\n        if (this.miniState) {\r\n          this._disable();\r\n        } else {\r\n          this._enable();\r\n        }\r\n      },\r\n      enableButton: () => {\r\n        this._enableButton();\r\n      },\r\n      disableButton: () => {\r\n        this._disableButton();\r\n      },\r\n      showControlsWhen: (when) => {\r\n        this._showControlsWhen(when);\r\n      },\r\n      on: (what, fn) => {\r\n        this._hook(what, fn);\r\n      },\r\n    };\r\n  }\r\n\r\n  _enable() {\r\n    let delay = 0;\r\n    this.miniState = true;\r\n    // DEV: Allow a syncronous callback to handle the enable event and delay by X milliseconds\r\n    this._fire('enable', (newDelay) => {\r\n      delay = newDelay;\r\n    });\r\n    setTimeout(() => {\r\n      document.querySelector('html').classList.add(CONSTANTS.CLASS_NAMESPACE);\r\n    }, delay);\r\n  }\r\n\r\n  _disable() {\r\n    let delay = 0;\r\n    this.miniState = false;\r\n    // DEV: Allow a syncronous callback to handle the disable event and delay by X milliseconds\r\n    this._fire('disable', (newDelay) => {\r\n      delay = newDelay;\r\n    });\r\n    setTimeout(() => {\r\n      document.querySelector('html').classList.remove(CONSTANTS.CLASS_NAMESPACE);\r\n    }, delay);\r\n  }\r\n\r\n  _enableButton() {\r\n    this.miniButtonElement.style.display = 'block';\r\n  }\r\n\r\n  _disableButton() {\r\n    this.miniButtonElement.style.display = 'none';\r\n  }\r\n\r\n  _showControlsWhen(when) {\r\n    if (when === 'hover') {\r\n      document.body.removeAttribute('controls');\r\n    } else {\r\n      document.body.setAttribute('controls', 'controls');\r\n    }\r\n  }\r\n};\r\n\r\nif (!window.GMusic) {\r\n  console.error('The core GMusic library must be included for the GMusic mini player library to work'); // eslint-disable-line\r\n} else {\r\n  const controller = new GMusicMiniPlayerController();\r\n  // DEV: Hook into the existing GMusic libraries global prototype\r\n  window.GMusic._protoObj.mini = controller.getControls();\r\n}\r\n\n},{\"../lib/_constants\":1}]},{},[2]);\n"]}